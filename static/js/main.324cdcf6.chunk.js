(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){},21:function(e,t,n){e.exports=n(45)},30:function(e,t,n){},33:function(e,t,n){},35:function(e,t,n){},37:function(e,t,n){},39:function(e,t,n){},43:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(13),i=n(1),o=n(15),s=n(4),u=n(5),m=n.n(u),l=function(e){return{type:"SEARCH_FOR_GAME",text:e}},d=function(e){return{type:"RECEIVE_GAME",json:e}},g=function(e){return{type:"UPDATE_SEARCHED_GAME",searchedGame:e}};function f(e){return function(t){t(l(e)),function(e){return m()("/games",{mode:"no-cors",method:"post",body:'fields name, similar_games; where name ~"'+e+'";',headers:{"user-key":"a1d21661c77bb5ba89f0797f186f968e"}}).then(function(e){return e.json()},function(e){return console.log("An error occurred.",e)}).then(function(e){return e[0]})}(e).then(function(n){var a;void 0===n?alert("Could not find '"+e+"'"):(t(g(n.name)),(a=n,m()("/games",{mode:"no-cors",method:"post",body:"fields name, summary, cover; where id=("+a.similar_games.join(", ")+");",headers:{"user-key":"a1d21661c77bb5ba89f0797f186f968e"}}).then(function(e){return e.json()},function(e){return console.log("An error occurred.",e)}).then(function(e){return e})).then(function(e){t(d(e))}))})}}var v={activeGameId:0,suggestedGames:[],isFetching:!1,searchedGame:"",inputValue:""},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_FOR_GAME":return Object.assign({},e,{isFetching:!0});case"UPDATE_INPUT_VALUE":return Object.assign({},e,{inputValue:t.inputValue});case"UPDATE_ACTIVE_GAME":return Object.assign({},e,{activeGameId:t.activeGameId});case"UPDATE_SEARCHED_GAME":return Object.assign({},e,{searchedGame:t.searchedGame});case"RECEIVE_GAME":return Object.assign({},e,{isFetching:!1,suggestedGames:t.json,activeGameId:t.json[0].id});default:return e}},E=(n(30),n(12),function(e){var t=e.gameName;return r.a.createElement("h1",null,t)}),p=function(e){var t=e.summary;return r.a.createElement("p",null,t)},b=n(16),G=n(17),I=n(19),y=n(18),A=n(20),j=n(6),C=(n(33),function(e){var t=e.imgUrl,n=e.onClick;return r.a.createElement("img",{src:t,onClick:n,alt:t})});n(35);var O=function(e){function t(e){var n;return Object(b.a)(this,t),(n=Object(I.a)(this,Object(y.a)(t).call(this,e))).state={imgUrl:""},n.generateImageUrlFromCoverId=n.generateImageUrlFromCoverId.bind(Object(j.a)(Object(j.a)(n))),n}return Object(A.a)(t,e),Object(G.a)(t,[{key:"generateImageUrlFromCoverId",value:function(e,t){var n,a=this;(n=e,m()("/covers",{mode:"no-cors",method:"post",body:"fields image_id; where id=("+n+");",headers:{"user-key":"a1d21661c77bb5ba89f0797f186f968e"}}).then(function(e){return e.json()},function(e){return console.log("An error occurred.",e)}).then(function(e){return e})).then(function(e){a.setState({imgUrl:"//images.igdb.com/igdb/image/upload/t_"+t+"/"+e[0].image_id+".jpg"})})}},{key:"componentDidMount",value:function(){this.generateImageUrlFromCoverId(this.props.coverId,this.props.size)}},{key:"componentDidUpdate",value:function(e){this.props.coverId!=e.coverId&&this.generateImageUrlFromCoverId(this.props.coverId,this.props.size)}},{key:"render",value:function(){return r.a.createElement(C,{imgUrl:this.state.imgUrl,onClick:this.props.onClick})}}]),t}(r.a.Component),_=Object(i.b)()(O);function U(e,t){var n=!0,a=!1,r=void 0;try{for(var c,i=t[Symbol.iterator]();!(n=(c=i.next()).done);n=!0){var o=c.value;if(o.id==e)return o}}catch(s){a=!0,r=s}finally{try{n||null==i.return||i.return()}finally{if(a)throw r}}}var S=Object(i.b)(function(e){return{activeGame:U(e.activeGameId,e.suggestedGames)}})(function(e){var t=e.activeGame;return r.a.createElement("div",{className:"game-container"},r.a.createElement("div",{className:"GameContainer-ActiveImageContainer"},r.a.createElement(_,{coverId:t.cover,size:"cover_big"})),r.a.createElement("div",{className:"text"},r.a.createElement(E,{gameName:t.name}),r.a.createElement("hr",null),r.a.createElement(p,{summary:t.summary})))}),k=(n(37),Object(i.b)(function(e){return{suggestions:e.suggestions,isFetching:e.isFetching,inputValue:e.inputValue}})(function(e){var t,n=e.dispatch;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t.value.trim()&&(n(f(t.value)),t.value="")}},r.a.createElement("div",{className:"Search"},r.a.createElement("input",{type:"text",ref:function(e){return t=e},placeholder:"Search..."}),r.a.createElement("button",{type:"submit"},r.a.createElement("i",{className:"fa fa-search"})))))})),N=(n(39),Object(i.b)()(function(e){var t=e.dispatch,n=e.suggestedGame;return r.a.createElement(_,{coverId:n.cover,onClick:function(e){return t({type:"UPDATE_ACTIVE_GAME",activeGameId:n.id})},size:"cover_small"})})),F=Object(i.b)(function(e){return{suggestedGames:e.suggestedGames,activeGameId:e.activeGameId}})(function(e){var t=e.suggestedGames,n=e.activeGameId;return r.a.createElement("ul",null,t.map(function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("div",{className:n==e.id?"SuggestionsContainer-ActiveSuggestionImageContainer":"SuggestionsContainer-SuggestionImageContainer"},r.a.createElement(N,{suggestedGame:e})))}))});var w=Object(i.b)(function(e){return{searchedGame:e.searchedGame,suggestedGames:e.suggestedGames}})(function(e){var t=e.suggestedGames,n=e.searchedGame;return r.a.createElement("div",{className:"App"},t.length>0?[r.a.createElement("div",{className:"App-LogoContainer"},r.a.createElement("h1",null,"What Should I Play?")),r.a.createElement("div",{className:"App-GamesContainer"},r.a.createElement(S,null),r.a.createElement("h3",null,"More Games Like ",n," "),r.a.createElement(F,null)),r.a.createElement("div",{className:"App-SideBarSearchContainer"},r.a.createElement(k,null))]:[r.a.createElement("div",{className:"App-LandingPage"},r.a.createElement("h1",null,"What Should I Play?"),r.a.createElement(k,null))])}),D=(n(41),n(43),Object(s.c)(h,Object(s.a)(o.a)));Object(c.render)(r.a.createElement(i.a,{store:D},r.a.createElement(w,null)),document.getElementById("root"))}},[[21,2,1]]]);
//# sourceMappingURL=main.324cdcf6.chunk.js.map